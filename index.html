<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cookie Browser - YouTube</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <!-- Sidebar -->
    <aside id="sidebar">
      <div class="sidebar-header">
        <span class="logo">&#127850; Cookie Browser</span>
        <button id="toggleSidebar" title="Recolher">&#8249;</button>
      </div>

      <section class="section">
        <h3>URL Alvo</h3>
        <div class="url-bar">
          <input type="text" id="urlInput" value="https://www.youtube.com" />
        </div>
      </section>

      <section class="section">
        <h3>&#128640; Abrir com Cookies</h3>
        <div class="btn-col">
          <button id="openYoutubeBtn" class="btn-primary btn-lg">&#127919; Abrir YouTube (nova aba)</button>
          <button id="copyConsoleBtn" class="btn-secondary btn-lg">&#128203; Copiar Script Injetor</button>
          <button id="bookmarkletBtn" class="btn-secondary btn-lg">&#128278; Gerar Bookmarklet</button>
        </div>
      </section>

      <section class="section">
        <h3>Cookies <span id="cookieCount" class="badge">0</span></h3>
        <div class="btn-row">
          <button id="importBtn" class="btn-secondary">&#128229; Importar</button>
          <button id="exportBtn" class="btn-secondary">&#128228; Exportar</button>
          <button id="clearBtn" class="btn-danger">&#128465; Limpar</button>
        </div>
        <input type="file" id="fileInput" accept=".json" style="display:none" />
        <textarea id="cookieTextarea" placeholder='Cole JSON de cookies aqui...'></textarea>
      </section>

      <section class="section">
        <h3>Cookies Ativos</h3>
        <div id="cookieList" class="cookie-list"></div>
      </section>

      <section class="section">
        <h3>Log</h3>
        <div id="logBox" class="log-box"></div>
      </section>
    </aside>

    <!-- Main -->
    <main id="main">
      <div id="instructions">
        <div class="inst-card">
          <div class="hero">
            <div class="hero-icon">&#127850;</div>
            <h1>Cookie Browser</h1>
            <p class="hero-sub">YouTube com cookies injetados automaticamente</p>
          </div>

          <div class="auto-launch" id="autoLaunch">
            <div class="countdown-ring">
              <svg viewBox="0 0 60 60">
                <circle cx="30" cy="30" r="26" fill="none" stroke="#2a2a4a" stroke-width="4"/>
                <circle id="countdownCircle" cx="30" cy="30" r="26" fill="none" stroke="#7c3aed" stroke-width="4"
                  stroke-dasharray="163" stroke-dashoffset="0"
                  transform="rotate(-90 30 30)"/>
              </svg>
              <span id="countdownNum">3</span>
            </div>
            <p>Abrindo o YouTube com cookies em <strong id="cdText">3</strong>s&hellip;</p>
            <button id="cancelCountdown" class="btn-danger btn-sm">Cancelar</button>
          </div>

          <div class="methods">
            <div class="method">
              <div class="method-num">1</div>
              <div class="method-body">
                <strong>Auto (recomendado)</strong>
                <p>O YouTube abre automaticamente numa nova aba. Cole o script copiado no <strong>Console do DevTools</strong> (F12 &rarr; Console &rarr; Ctrl+V &rarr; Enter).</p>
              </div>
            </div>
            <div class="method">
              <div class="method-num">2</div>
              <div class="method-body">
                <strong>Bookmarklet</strong>
                <p>Clique em <em>Gerar Bookmarklet</em> e arraste o link gerado para a barra de favoritos. Com o YouTube aberto, clique no favorito.</p>
              </div>
            </div>
            <div class="method">
              <div class="method-num">3</div>
              <div class="method-body">
                <strong>Cookie Editor</strong>
                <p>Instale a extens&atilde;o <a href="https://chromewebstore.google.com/detail/cookie-editor/hlkenndednhfkekhgcdicdfddnkalmdm" target="_blank">Cookie Editor &#8599;</a>, clique em <em>Exportar</em> e importe na extens&atilde;o com o YouTube aberto.</p>
              </div>
            </div>
          </div>

          <div id="bookmarkletArea" style="display:none;">
            <p class="bm-label">Arraste para a barra de favoritos:</p>
            <a id="bookmarkletLink" href="#" class="bookmarklet-link">&#127850; Injetar Cookies YT</a>
            <p class="bm-hint">Com o YouTube aberto, clique neste favorito para injetar.</p>
          </div>
        </div>
      </div>
    </main>
  </div>

  <div id="toast"></div>
  <script src="app.js"></script>
</body>
</html>
